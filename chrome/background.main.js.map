{"version":3,"file":"background.main.js","mappings":"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","sources":["webpack://juejin-plugin/./src/config/index.ts","webpack://juejin-plugin/./src/pages/background/auth.js","webpack://juejin-plugin/./src/pages/background/contextMenus.js","webpack://juejin-plugin/./src/pages/background/message.js","webpack://juejin-plugin/./src/pages/background/storage.js","webpack://juejin-plugin/./src/pages/background/tabs.js","webpack://juejin-plugin/./src/pages/background/tool.js","webpack://juejin-plugin/webpack/bootstrap","webpack://juejin-plugin/webpack/runtime/define property getters","webpack://juejin-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://juejin-plugin/webpack/runtime/make namespace object","webpack://juejin-plugin/./src/pages/background/index.js"],"sourcesContent":["export default {\n  iconUrl: \"static/img/icon.png\"\n};\n","import { resetContextMenus } from \"./contextMenus\";\nimport { handleApiResult, getAllJueJinTabs, sleep } from \"./tool\";\nimport { getStorage, setStorage } from \"./storage\";\nimport { sendBasicNotifications } from \"./message\";\n\n// 获取个人信息缓存\nexport const getSelfInfoStorage = async () => {\n\treturn await getStorage(\"juejin-self\");\n};\n\n// 设置个人信息缓存\nexport const setSelfInfoStorage = async (selfInfo) => {\n\tawait setStorage(\"juejin-self\", selfInfo);\n};\n\n// 登出\nexport const logout = async () => {\n\tawait fetch(\"https://juejin.cn/passport/web/logout/\", {\n\t\tcredentials: 'include',\n\t});\n\t// 取出所有打开的掘金tab\n\tlet tabs = await getAllJueJinTabs();\n\tfor (let tab of tabs) {   // 刷新当前页\n\t\tawait chrome.tabs.update(tab.id, { url: tab.url });\n\t}\n\tawait setSelfInfoStorage(null);\n\tawait resetContextMenus();\n};\n\n// 获取用户信息\nexport const getUserInfo = async (userId) => {\n\tlet res = await fetch(`https://api.juejin.cn/user_api/v1/user/get?user_id=${userId}`, {\n\t\tcredentials: 'include',\n\t}).then(res => res.json());\n\tlet { success, data } = handleApiResult(res);\n\treturn success ? data : null;\n};\n\n// 更新登录人信息\nexport const resetSelfInfo = async () => {\n\tlet res = await fetch(\"https://api.juejin.cn/user_api/v1/user/get_info_pack\",\n\t\t{\n\t\t\tcredentials: 'include',\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\tbody: JSON.stringify({ \"pack_req\": { \"user_counter\": true, \"user_growth_info\": true, \"user\": true } })\n\t\t}).then(res => res.json());\n\tlet { data: userInfo } = handleApiResult(res);\n\tif (!userInfo) return await setSelfInfoStorage(null);\n\tawait setSelfInfoStorage(userInfo);\n\treturn userInfo;\n};\n\n// 签到\nexport const signin = async () => {\n\tlet res = await fetch(\"https://api.juejin.cn/growth_api/v1/check_in\", {\n\t\tcredentials: 'include',\n\t\tmethod: \"POST\"\n\t}).then(res => res.json());\n\tlet { success, data, err_msg } = handleApiResult(res);\n\tsendBasicNotifications(\"掘金签到：\" + (success ? \"成功\" : \"失败\"), success ? `本次新增矿石：${data.incr_point}，当前矿石：${data.sum_point}` : err_msg)\n};\n\n// 收集bug\nexport const bugfix = async () => {\n\tlet res = await fetch(\"https://api.juejin.cn/user_api/v1/bugfix/not_collect\", {\n\t\tcredentials: 'include',\n\t\tmethod: \"POST\"\n\t}).then(res => res.json());\n\tlet { success, data, err_msg } = handleApiResult(res);\n\tsendBasicNotifications(\"掘金BugFix：\" + (success ? \"成功\" : \"失败\"), success ? `今日掘金bugfix：${data.length}` : err_msg)\n\tif (!success) return;\n\tdata.forEach(bug => {\n\t\tfetch(\"https://api.juejin.cn/user_api/v1/bugfix/collect\", {\n\t\t\tcredentials: 'include',\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\tbody: JSON.stringify(bug)\n\t\t});\n\t});\n};\n\n// 免费抽奖\nexport const freeLuckyDraw = async () => {\n\tlet res = await fetch('https://api.juejin.cn/growth_api/v1/lottery_config/get', {\n\t\tcredentials: 'include',\n\t}).then(res => res.json());\n\tres = handleApiResult(res);\n\tif (!res.success) return sendBasicNotifications('今日免费抽奖失败', res.err_msg);\n\tif (!res.data.free_count) return sendBasicNotifications('今日免费抽奖失败', '今日免费抽奖次数已经用完');\n\tres = await fetch('https://api.juejin.cn/growth_api/v1/lottery/draw', {\n\t\tcredentials: 'include',\n\t\tmethod: 'POST'\n\t}).then(res => res.json());\n\tres = handleApiResult(res);\n\tif (!res.success) return sendBasicNotifications('今日免费抽奖失败', res.err_msg);\n\tsendBasicNotifications('今日免费抽奖成功', `恭喜抽到：${res.data.lottery_name}`);\n}\n\n// 获取未读消息数\nexport const loopMessageNotReadCount = async () => {\n\tif (await getSelfInfoStorage()) {\n\t\tlet res = await fetch(\"https://api.juejin.cn/interact_api/v1/message/count\", {\n\t\t\tcredentials: 'include',\n\t\t}).then(res => res.json());\n\t\tlet { success, data } = handleApiResult(res);\n\t\tif (success) {\n\t\t\t// count[1]：点赞和收藏  count[3]：评论\n\t\t\tlet { count, total } = data;\n\t\t\tlet items = [];\n\t\t\tif (count[1]) items.push(`点赞和收藏：${count[1]}条`)\n\t\t\tif (count[3]) items.push(`评论：${count[3]}条`)\n\t\t\tlet notReadStrStorage = await getStorage(\"message-not-read\");\n\t\t\t// 有未读且详情文字不相同\n\t\t\tif (total && notReadStrStorage !== JSON.stringify(items)) {\n\t\t\t\tsendBasicNotifications(`您有${total}条掘金未读消息，以下为详细内容`, `${items.join('\\n')}`);\n\t\t\t\tawait setStorage(\"message-not-read\", JSON.stringify(items));\n\t\t\t}\n\t\t}\n\t}\n\tsetTimeout(() => {\n\t\tloopMessageNotReadCount();\n\t}, 10 * 1000)\n};\n\nexport const initAuth = async () => {\n\tawait resetSelfInfo();\n\tawait loopMessageNotReadCount()\n};\n","import { getSelfInfoStorage, logout, signin, bugfix, freeLuckyDraw } from \"./auth\";\n\nexport const initContentMenus = async () => {\n\tawait resetContextMenus();\n};\n\n\nlet resetContextMenusIng = false;\n\nexport const resetContextMenus = async () => {\n\tif (resetContextMenusIng) return;\n\tresetContextMenusIng = true;\n\t// 移除所有菜单先\n\tawait chrome.contextMenus.removeAll();\n\t// 获取用户信息\n\tlet self = await getSelfInfoStorage();\n\t// 已登录\n\tif (self) {\n\t\tawait chrome.contextMenus.create({\n\t\t\tid: \"MENU_PARENT\",\n\t\t\ttitle: `${self.user_basic.user_name}的掘金`,\n\t\t\tcontexts: [\"all\"]\n\t\t});\n\t\tawait chrome.contextMenus.create({\n\t\t\tid: \"SELF_HOME\",\n\t\t\ttitle: \"我的主页\",\n\t\t\tparentId: \"MENU_PARENT\",\n\t\t\tcontexts: [\"all\"]\n\t\t});\n\t\tawait chrome.contextMenus.create({\n\t\t\tid: \"SELF_NOTIFICATION\",\n\t\t\ttitle: \"我的消息\",\n\t\t\tparentId: \"MENU_PARENT\",\n\t\t\tcontexts: [\"all\"]\n\t\t});\n\t\tawait chrome.contextMenus.create({\n\t\t\tid: \"separator1\",\n\t\t\ttype: \"separator\",\n\t\t\tparentId: \"MENU_PARENT\",\n\t\t\tcontexts: [\"all\"]\n\t\t});\n\t\tawait chrome.contextMenus.create({ id: \"SIGN_IN\", title: \"快速签到\", parentId: \"MENU_PARENT\", contexts: [\"all\"] });\n\t\tawait chrome.contextMenus.create({ id: \"BUG_FIX\", title: \"收集BUG\", parentId: \"MENU_PARENT\", contexts: [\"all\"] });\n\t\tawait chrome.contextMenus.create({\n\t\t\tid: 'FREE_LUCKY_DRAW',\n\t\t\ttitle: \"免费抽奖\",\n\t\t\tparentId: \"MENU_PARENT\",\n\t\t\tcontexts: [\"all\"]\n\t\t})\n\t\tawait chrome.contextMenus.create({\n\t\t\tid: \"separator2\",\n\t\t\ttype: \"separator\",\n\t\t\tparentId: \"MENU_PARENT\",\n\t\t\tcontexts: [\"all\"]\n\t\t});\n\t\tawait chrome.contextMenus.create({ id: \"LOGOUT\", title: \"登出\", parentId: \"MENU_PARENT\", contexts: [\"all\"] });\n\t} else {\n\t\tawait chrome.contextMenus.create({ id: \"OPEN_JUEJIN\", type: \"normal\", title: `掘金首页`, contexts: [\"all\"] });\n\t}\n\tresetContextMenusIng = false;\n};\n\nexport const onClick = async (info, tab) => {\n\tlet self = await getSelfInfoStorage();\n\tlet { windowId } = tab;\n\tlet { menuItemId } = info;\n\tif (menuItemId === \"OPEN_JUEJIN\") { // 打开掘金\n\t\tawait chrome.tabs.create({ url: `https://juejin.cn/`, selected: true, windowId });\n\t}\n\tif (menuItemId === \"SELF_HOME\") { // 我的主页\n\t\tawait chrome.tabs.create({\n\t\t\turl: `https://juejin.cn/user/${self.user_basic.user_id}`,\n\t\t\tselected: true,\n\t\t\twindowId\n\t\t});\n\t}\n\tif (menuItemId === \"SELF_NOTIFICATION\") { // 我的消息\n\t\tawait chrome.tabs.create({ url: `https://juejin.cn/notification`, selected: true, windowId });\n\t}\n\tif (menuItemId === \"LOGOUT\") { // 登出\n\t\tawait logout();\n\t}\n\tif (menuItemId === \"SIGN_IN\") { // 签到\n\t\tawait signin();\n\t}\n\tif (menuItemId === \"BUG_FIX\") { // 收集bug\n\t\tawait bugfix();\n\t}\n\tif (menuItemId === 'FREE_LUCKY_DRAW') { // 免费抽奖\n\t\tawait freeLuckyDraw()\n\t}\n};\n","import { uuid } from \"./tool\";\nimport config from \"../../config\";\n\nexport const sendBasicNotifications = (title, message) => {\n\tchrome.notifications.getPermissionLevel(level => {\n\t\tif (level === 'granted') {\n\t\t\tchrome.notifications.create(uuid(), {\n\t\t\t\ttype: 'basic',\n\t\t\t\ttitle,\n\t\t\t\tmessage,\n\t\t\t\ticonUrl: config.iconUrl,\n\t\t\t})\n\t\t}\n\t})\n}","export const setStorage = async (key, value) => {\n    await chrome.storage.local.set({ [key]: value })\n}\n\nexport const getStorage = async (key) => {\n    return (await chrome.storage.local.get())[key];\n}","import { resetContextMenus } from \"./contextMenus\";\nimport { resetSelfInfo } from \"./auth\";\nimport { isJueJinByTab } from \"./tool\";\n\nexport const onUpdated = async (tabId, changeInfo, tab) => {\n  if (changeInfo.status !== \"complete\") return;\n  let isJueJin = isJueJinByTab(tab);\n  if (isJueJin) await resetSelfInfo();\n  await resetContextMenus();\n  if (isJueJin) await chrome.tabs.sendMessage(tab.id, { from: \"background\", event: \"page-change-complete\" });\n};\n","// 获取cookie\nexport const getCookie = async () => {\n\tlet cookies = await chrome.cookies.getAll({})\n\tlet arr = cookies.map(cookie => `${cookie.name}=${cookie.value}`);\n\treturn arr.join(';');\n}\n\nexport const handleApiResult = (apiRes) => {\n\treturn Object.assign({}, apiRes, { success: apiRes.err_no === 0 })\n}\n\nexport const getAllJueJinTabs = async () => {\n\treturn await chrome.tabs.query({ url: 'https://juejin.cn/*' });\n}\n\nexport const isJueJinByTab = (tab) => {\nreturn tab.url.includes('juejin.cn');\n}\n\nexport const sleep = (s) => {\n\treturn new Promise(res => {\n\t\tsetTimeout(res, s * 1000)\n\t})\n}\n\n// 获取本月月初时间戳\nexport const getCurrentMonthFirstTime = () => {\n\tvar data = new Date();\n\tdata.setDate(1);\n\tdata.setHours(0);\n\tdata.setSeconds(0);\n\tdata.setMinutes(0);\n\treturn data.getTime();\n}\n\n// 获取本周一时间戳\nexport const getCurrentWeekFirstTime = () => {\n\tconst now = new Date()\n\tconst nowTime = now.getTime()\n\t// getDay()返回0-6，其中0表示周日，需特殊处理\n\tconst day = now.getDay() > 0 ? now.getDay() : 7 // 表示当前是周几\n\tconst oneDayTime = 24 * 60 * 60 * 1000 // 一天的总ms\n\t// 本周一时间戳\n\tconst MondayTime = nowTime - (day - 1) * oneDayTime\n\t// 格式化时间\n\tconst monday = new Date(MondayTime);\n\tmonday.setHours(0);\n\tmonday.setSeconds(0);\n\tmonday.setMinutes(0);\n\treturn monday.getTime();\n}\n\n\nexport const uuid = () => {\n\tvar s = [];\n\tvar hexDigits = \"0123456789abcdef\";\n\tfor (var i = 0; i < 36; i++) {\n\t\ts[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n\t}\n\ts[14] = \"4\"; // bits 12-15 of the time_hi_and_version field to 0010\n\ts[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\n\ts[8] = s[13] = s[18] = s[23] = \"-\";\n\n\tvar uuid = s.join(\"\");\n\treturn uuid;\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { initAuth } from \"./auth.js\";\nimport { initContentMenus, onClick } from \"./contextMenus.js\";\nimport { onUpdated } from \"./tabs.js\";\n\n\nchrome.contextMenus.onClicked.addListener(onClick);\nchrome.tabs.onUpdated.addListener(onUpdated);\n\nconst init = async () => {\n  await initAuth();\n  await initContentMenus();\n};\n\ninit();\n"],"names":["iconUrl","resetContextMenus","handleApiResult","getAllJueJinTabs","sleep","getStorage","setStorage","sendBasicNotifications","getSelfInfoStorage","setSelfInfoStorage","selfInfo","logout","fetch","credentials","tabs","tab","chrome","update","id","url","getUserInfo","userId","res","then","json","success","data","resetSelfInfo","method","headers","body","JSON","stringify","userInfo","signin","err_msg","incr_point","sum_point","bugfix","length","forEach","bug","freeLuckyDraw","free_count","lottery_name","loopMessageNotReadCount","count","total","items","push","notReadStrStorage","join","setTimeout","initAuth","initContentMenus","resetContextMenusIng","contextMenus","removeAll","self","create","title","user_basic","user_name","contexts","parentId","type","onClick","info","windowId","menuItemId","selected","user_id","uuid","config","message","notifications","getPermissionLevel","level","key","value","storage","local","set","get","isJueJinByTab","onUpdated","tabId","changeInfo","status","isJueJin","sendMessage","from","event","getCookie","cookies","getAll","arr","map","cookie","name","apiRes","Object","assign","err_no","query","includes","s","Promise","getCurrentMonthFirstTime","Date","setDate","setHours","setSeconds","setMinutes","getTime","getCurrentWeekFirstTime","now","nowTime","day","getDay","oneDayTime","MondayTime","monday","hexDigits","i","substr","Math","floor","random","onClicked","addListener","init"],"sourceRoot":""}