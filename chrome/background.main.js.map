{"version":3,"file":"background.main.js","mappings":"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","sources":["webpack://juejin-plugin/./src/api/content.js","webpack://juejin-plugin/./src/api/index.js","webpack://juejin-plugin/./src/api/interact.js","webpack://juejin-plugin/./src/api/message.js","webpack://juejin-plugin/./src/api/recommend.js","webpack://juejin-plugin/./src/api/tag.js","webpack://juejin-plugin/./src/api/user.js","webpack://juejin-plugin/./src/config/index.ts","webpack://juejin-plugin/./src/pages/background/chrome.js","webpack://juejin-plugin/./src/pages/background/controller/contextMenus.js","webpack://juejin-plugin/./src/pages/background/controller/message.js","webpack://juejin-plugin/./src/pages/background/controller/pin.js","webpack://juejin-plugin/./src/pages/background/controller/tabs.js","webpack://juejin-plugin/./src/pages/background/controller/user.js","webpack://juejin-plugin/./src/tool/index.js","webpack://juejin-plugin/./node_modules/dayjs/dayjs.min.js","webpack://juejin-plugin/./node_modules/dayjs/locale/zh-cn.js","webpack://juejin-plugin/./node_modules/dayjs/plugin/relativeTime.js","webpack://juejin-plugin/./node_modules/dayjs/plugin/weekday.js","webpack://juejin-plugin/webpack/bootstrap","webpack://juejin-plugin/webpack/runtime/compat get default export","webpack://juejin-plugin/webpack/runtime/define property getters","webpack://juejin-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://juejin-plugin/webpack/runtime/make namespace object","webpack://juejin-plugin/./src/pages/background/index.js"],"sourcesContent":["// 内容相关\nimport { ajax } from \"./index\";\n\n/*\n* 删除沸点\n* */\nexport const removeShortMsg = (msgId) => ajax({\n\turl: `https://api.juejin.cn/content_api/v1/short_msg/delete`,\n\tmethod: 'POST',\n\tdata: { msg_id: msgId },\n\tisInclude: true,\n})\n\n/*\n* 获取用户沸点列表\n* */\nexport const getShortMsgList = ({ userId, cursor = 0, sortType = 4, limit = 999 }) => ajax({\n\turl: `https://api.juejin.cn/content_api/v1/short_msg/query_list`,\n\tmethod: 'POST',\n\tdata: { user_id: userId, cursor: cursor.toString(), sort_type: sortType, limit: limit }\n})","export const ajax = async ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t url,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t method = 'GET',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t isInclude = false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t headers = { \"Content-Type\": \"application/json\" }\n\t\t\t\t\t\t\t\t\t\t\t\t\t }) => {\n\tlet credentials = isInclude ? 'include' : 'omit'\n\tlet res = await fetch(url, {\n\t\tmethod,\n\t\tcredentials,\n\t\theaders,\n\t\tbody: JSON.stringify(data),\n\t}).then(res => res.json())\n\treturn handleApiResult(res);\n}\n\nexport const handleApiResult = (apiRes) => {\n\treturn Object.assign({}, apiRes, { success: apiRes.err_no === 0 })\n}","import { ajax } from \"./index\";\n\n\n/*\n* 获取点赞列表\n* @param item_type 4：沸点\n* @param sort_type 2：时间倒序\n* */\nexport const diggQueryPage = ({ cursor = 0, item_type = 4, sort_type = 2, user_id }) => ajax({\n\turl: `https://api.juejin.cn/interact_api/v1/digg/query_page`,\n\tmethod: 'POST',\n\tdata: { cursor: cursor.toString(), item_type, sort_type, user_id }\n})\n\n/*\n* 取消点赞\n* @param itemId id\n* @param itemType 4：沸点\n* */\nexport const cancelDigg = (itemId, itemType) => ajax({\n\turl: `https://api.juejin.cn/interact_api/v1/digg/cancel`,\n\tmethod: 'POST',\n\tdata: { item_id: itemId, item_type: itemType },\n\tisInclude: true,\n})","// 消息相关\nimport { ajax } from \"./index\";\n\nexport const getNotReadMessageCount = () => ajax({\n\turl: `https://api.juejin.cn/interact_api/v1/message/count`,\n\tisInclude: true,\n})","import { ajax } from \"./index\";\n\nexport const getTopicShortMsgList = ({ topic_id, cursor = 0, id_type = 4, limit = 10, sort_type = 500 }) => ajax({\n\turl: `https://api.juejin.cn/recommend_api/v1/short_msg/topic`,\n\tmethod: \"POST\",\n\tdata: { topic_id, cursor: cursor.toString(), id_type, limit, sort_type }\n})","import { ajax } from \"./index\";\n\n/*\n* 获取沸点圈子详情\n* */\n\nexport const queryTopicDetail = (topicId) => ajax({\n\turl: `https://api.juejin.cn/tag_api/v1/query_topic_detail`,\n\tmethod: 'POST',\n\tdata: { topic_id: topicId }\n})","// 用户相关\nimport { ajax } from \"./index\";\n\n/*\n* 用户登出\n* */\nexport const logout = () => ajax({\n\turl: 'https://juejin.cn/passport/web/logout/',\n\tisInclude: true\n})\n\n/*\n* 登录人获取自己的信息\n* */\nexport const getSelfInfo = () => ajax({\n\turl: `https://api.juejin.cn/user_api/v1/user/get_info_pack`,\n\tmethod: 'POST',\n\tdata: { pack_req: { user_counter: true, user_growth_info: true, user: true } },\n\tisInclude: true\n})\n\n/*\n* 获取用户信息\n* @param userId 用户id\n* */\nexport const getUserInfo = (userId) => ajax({\n\turl: `https://api.juejin.cn/user_api/v1/user/get?user_id=${userId}`\n})\n\n/*\n* 用户签到\n* */\nexport const checkIn = () => ajax({\n\turl: 'https://api.juejin.cn/growth_api/v1/check_in',\n\tmethod: 'POST',\n\tisInclude: true\n})\n\n/*\n* 获取未收集的bug\n* */\nexport const getNotCollectBug = () => ajax({\n\turl: `https://api.juejin.cn/user_api/v1/bugfix/not_collect`,\n\tmethod: 'POST',\n\theaders: {},\n\tisInclude: true,\n})\n\n/*\n* 收集bug\n* @param bug bug对象\n* */\nexport const collectBug = (bug) => ajax({\n\turl: `https://api.juejin.cn/user_api/v1/bugfix/collect`,\n\tmethod: 'POST',\n\tdata: bug,\n\tisInclude: true,\n})\n\n/*\n* 获取今日免费抽奖次数\n* */\nexport const getLotteryConfig = () => ajax({\n\turl: `https://api.juejin.cn/growth_api/v1/lottery_config/get`,\n\tisInclude: true,\n})\n\n/*\n* 抽奖\n* */\nexport const drawLottery = () => ajax({\n\turl: `https://api.juejin.cn/growth_api/v1/lottery/draw`,\n\tmethod: 'POST',\n\tisInclude: true,\n})\n\n\n/*\n* 获取用户动态\n* @param userId 用户id\n* @param cursor 偏移数\n* */\nexport const getDynamic = (userId, cursor) => ajax({\n\turl: `https://api.juejin.cn/user_api/v1/user/dynamic?user_id=${userId}&cursor=${cursor}`\n})","export default {\n  iconUrl: \"static/img/icon.png\"\n};\n","import dayjs from 'dayjs';\nimport config from \"../../config\";\nimport { uuid } from \"../../tool\";\n\n/*\n* 设置缓存\n* @param key 名称\n* @param value 数据\n* @param minute 缓存多少分钟，如果没有则永久缓存\n* */\nexport const setStorage = async (key, value, minute) => {\n\tlet setTime = dayjs().format('YYYY-MM-DD HH:mm:ss');\n\tlet overdueTime = minute !== undefined ? dayjs(setTime).add(minute, 'minute').format('YYYY-MM-DD HH:mm:ss') : null;\n\tlet storage = { [key]: { value, setTime, overdueTime } }\n\tawait chrome.storage.local.set(storage);\n}\n\n/*\n* 获取缓存\n* @param key 名称\n* */\nexport const getStorage = async (key) => {\n\tlet storage = (await chrome.storage.local.get())[key];\n\tif (!storage) return null;\n\t// 如果结束时间存在 && 当前时间不在结束之间之前\n\tif (storage.overdueTime && !dayjs().isBefore(storage.overdueTime)) return null;\n\treturn storage.value;\n}\n\n/*\n* 发送桌面通知\n* @param title 标题\n* @param message 内容\n* */\nexport const sendBasicNotifications = (title, message) => {\n\tchrome.notifications.getPermissionLevel(level => {\n\t\tif (level === 'granted') {\n\t\t\tchrome.notifications.create(uuid(), {\n\t\t\t\ttype: 'basic',\n\t\t\t\ttitle,\n\t\t\t\tmessage,\n\t\t\t\ticonUrl: config.iconUrl,\n\t\t\t})\n\t\t}\n\t})\n}\n\n/*\n* 创建tab\n* @param tab 标签信息\n* */\nexport const createTab = (tab) => {\n\treturn chrome.tabs.create(tab);\n}\n\n/*\n* 查询tabs\n* @param search 需要查询的条件\n* */\nexport const queryTabs = (search = {}) => {\n\treturn chrome.tabs.query(search)\n}\n\n/*\n* 修改tab\n* @param tabId 标签id\n* @param tab 标签信息\n* */\nexport const updateTab = (tabId, tab) => {\n\treturn chrome.tabs.update(tabId, tab);\n}\n\n/*\n* 给标签页发信息\n* */\nexport const sendMessageToTab = (tabId, info) => {\n\treturn chrome.tabs.sendMessage(tabId, Object.assign(info, { from: 'background' }))\n}\n\n/*\n* 创建菜单\n* @param menu 按钮信息\n* */\nexport const createContextMenu = (menu) => {\n\tconsole.log(menu);\n\treturn chrome.contextMenus.create(menu);\n}\n\n/*\n* 删除全部菜单\n* */\nexport const removeAllContextMenus = () => {\n\treturn chrome.contextMenus.removeAll();\n}","import { getSelfStorage, logout, signin, bugfix, freeLucky } from \"./user\";\nimport { createContextMenu, createTab, removeAllContextMenus } from \"../chrome\";\n\n\nlet resetContextMenusIng = false;\n\n/*\n* 重置所有右键菜单\n* */\nexport const resetContextMenus = async () => {\n\tif (resetContextMenusIng) return;\n\tresetContextMenusIng = true;\n\t// 移除所有菜单\n\tawait removeAllContextMenus()\n\t// 获取用户信息\n\tlet user = await getSelfStorage();\n\t// 已登录\n\tif (user) {\n\t\tawait createContextMenu({ id: \"MENU_PARENT\", title: `${user.user_basic.user_name}的掘金`, contexts: [\"all\"] })\n\t\tawait createContextMenu({ id: \"SELF_HOME\", title: \"我的主页\", parentId: \"MENU_PARENT\", contexts: [\"all\"] })\n\t\tawait createContextMenu({ id: \"SELF_NOTIFICATION\", title: \"我的消息\", parentId: \"MENU_PARENT\", contexts: [\"all\"] })\n\t\tawait createContextMenu({ id: \"separator1\", type: \"separator\", parentId: \"MENU_PARENT\", contexts: [\"all\"] })\n\t\tawait createContextMenu({ id: \"SIGN_IN\", title: \"快速签到\", parentId: \"MENU_PARENT\", contexts: [\"all\"] });\n\t\tawait createContextMenu({ id: \"BUG_FIX\", title: \"收集BUG\", parentId: \"MENU_PARENT\", contexts: [\"all\"] });\n\t\tawait createContextMenu({ id: 'FREE_LUCKY_DRAW', title: \"免费抽奖\", parentId: \"MENU_PARENT\", contexts: [\"all\"] })\n\t\tawait createContextMenu({ id: \"separator2\", type: \"separator\", parentId: \"MENU_PARENT\", contexts: [\"all\"] });\n\t\tawait createContextMenu({ id: \"LOGOUT\", title: \"登出\", parentId: \"MENU_PARENT\", contexts: [\"all\"] });\n\t} else {\n\t\tawait createContextMenu({ id: \"OPEN_JUEJIN\", type: \"normal\", title: `掘金首页`, contexts: [\"all\"] });\n\t}\n\tresetContextMenusIng = false;\n};\n\n/*\n*  菜单被点击\n* */\nexport const contextMenusOnClick = async (info, tab) => {\n\tlet user = await getSelfStorage();\n\tlet { menuItemId } = info;\n\tlet { windowId } = tab;\n\tif (menuItemId === \"OPEN_JUEJIN\") { // 打开掘金\n\t\tcreateTab({ url: `https://juejin.cn/`, selected: true, windowId })\n\t}\n\tif (menuItemId === \"SELF_HOME\") { // 我的主页\n\t\tawait createTab({ url: `https://juejin.cn/user/${user.user_basic.user_id}`, selected: true, windowId })\n\t}\n\tif (menuItemId === \"SELF_NOTIFICATION\") { // 我的消息\n\t\tawait createTab({ url: `https://juejin.cn/notification`, selected: true, windowId })\n\t}\n\tif (menuItemId === \"LOGOUT\") { // 登出\n\t\tawait logout();\n\t}\n\tif (menuItemId === \"SIGN_IN\") { // 签到\n\t\tawait signin();\n\t}\n\tif (menuItemId === \"BUG_FIX\") { // fixbug\n\t\tawait bugfix();\n\t}\n\tif (menuItemId === 'FREE_LUCKY_DRAW') { // 免费抽奖\n\t\tawait freeLucky()\n\t}\n};","// 消息相关\n\nimport { getSelfStorage, getYearDynamic } from \"./user\";\nimport { getPinClubInfo, getUserPins, removePin, getPinClubWeekUserRank, getUserZanPins, cancelZanPin } from \"./pin\";\n\n// 事件处理map\nconst eventHandleMap = {\n\t'get-self-info': () => getSelfStorage(),\t// 获取个人信息\n\t'get-user-pins': (data) => getUserPins(data), // 获取用户沸点列表\n\t'remove-pin': (data) => removePin(data), // 删除沸点\n\t'get-pin-club-info': (data) => getPinClubInfo(data),\t// 获取沸点圈子详情\n\t'get-pin-club-week-user-rank': (data) => getPinClubWeekUserRank(data), //获取圈子一周废物榜\n\t'get-user-zan-pins': (data) => getUserZanPins(data), // 获取用户点赞列表\n\t'cancel-zan-pin': (data) => cancelZanPin(data), // 取消沸点点赞\n\t'get-year-dynamic': (data) => getYearDynamic(data)\n}\n\nconst handleOnMessage = async (event, data, callback) => {\n\tcallback(await eventHandleMap[event](data));\n}\n\n/*\n* 当页面发来了消息\n* */\nexport const runtimeOnMessage = (request, sender, sendResponse) => {\n\tlet { to, event, data } = request;\n\tif (to !== 'background') return;\n\thandleOnMessage(event, data, sendResponse)\n\treturn true\n}","// 沸点相关\nimport { getShortMsgList, removeShortMsg } from \"../../../api/content\";\nimport { queryTopicDetail } from \"../../../api/tag\";\nimport { getTopicShortMsgList } from \"../../../api/recommend\";\nimport { getStorage, sendBasicNotifications, setStorage } from \"../chrome\";\nimport { getUserInfo } from \"./user\";\nimport { dayjs, uuid } from \"../../../tool\";\nimport { cancelDigg, diggQueryPage } from \"../../../api/interact\";\nimport { handleApiResult } from \"../../../api\";\n\n/*\n* 获取用户沸点列表\n* */\nexport const getUserPins = async (userId) => {\n\t// 先获取数量\n\tlet res = await getShortMsgList({ userId, limit: 1 });\n\tif (!res.success) return [];\n\tres = await getShortMsgList({ userId, limit: res.count });\n\treturn res.success ? res.data : []\n}\n\n/*\n* 删除沸点\n* */\nexport const removePin = async (pin) => {\n\tlet { success } = await removeShortMsg(pin.msg_id);\n\treturn success\n}\n\n/*\n* 获取用户点赞列表\n* */\nexport const getUserZanPins = async (userId) => {\n\tlet { success, data, count } = await diggQueryPage({ user_id: userId, item_type: 4 });\n\treturn success ? { pins: data, count: count } : { pins: [], count: 0 }\n}\n\n/*\n* 取消点赞\n* */\nexport const cancelZanPin = async (pin) => {\n\tlet { success } = await cancelDigg(pin.msg_id, 4);\n\treturn success;\n}\n\n/*\n* 获取圈子详情\n* 缓存7天\n* */\nexport const getPinClubInfo = async (clubId) => {\n\tlet storageKey = `pin-club-info-${clubId}`;\n\tlet storage = await getStorage(storageKey);\n\tif (storage) return storage;\n\tlet { success, data } = await queryTopicDetail(clubId);\n\tif (!success) return null\n\tawait setStorage(storageKey, data, 60 * 24 * 7);\n\treturn data\n}\n\n/*\n* 获取圈子一周废物榜\n* @param clubId 圈子id\n* @param isRefresh 是否需要更新缓存\n* */\nexport const getPinClubWeekUserRank = async ({ clubId, isRefresh }) => {\n\tlet storageKey = `pin-club-week-user-rank-${clubId}`;\n\tlet storage = await getStorage(storageKey);\n\tif (storage && !isRefresh) return storage;\n\tstorage = { time: dayjs().format('YYYY-MM-DD HH:mm:ss'), rank: [] }\n\tlet { success, data } = await getTopicShortMsgList({ topic_id: clubId, limit: 1000 })\n\tif (!success) return storage\n\tlet userMap = {};\n\tlet targetTime = dayjs().startOf('week').valueOf();\n\tfor (let msg of data) {\n\t\tif (msg.msg_Info.ctime * 1000 < targetTime) break;\n\t\tlet { user_id } = msg.msg_Info;\n\t\tuserMap[user_id] ? userMap[user_id].push(msg) : userMap[user_id] = [msg];\n\t}\n\tlet users = [];\n\tfor (let userId in userMap) {\n\t\tusers.push({ userId, msgs: userMap[userId] });\n\t}\n\tusers.sort((a, b) => b.msgs.length - a.msgs.length);\n\tlet rank = [];\n\tlet userIds = [];\n\tfor (let user of users) {\n\t\tif (!rank.length) {\n\t\t\tuserIds.push(user.userId);\n\t\t\trank.push({ msgCount: user.msgs.length, users: [user] });\n\t\t} else {\n\t\t\tlet { msgCount, users } = rank[rank.length - 1];\n\t\t\tif (user.msgs.length === msgCount) {\n\t\t\t\tuserIds.push(user.userId);\n\t\t\t\tusers.push(user);\n\t\t\t} else {\n\t\t\t\tif (rank.length < 3) {\n\t\t\t\t\tuserIds.push(user.userId);\n\t\t\t\t\trank.push({ msgCount: user.msgs.length, users: [user] });\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tlet userList = await Promise.all(userIds.map(userId => getUserInfo(userId)));\n\tuserMap = {};\n\tfor (let user of userList) {\n\t\tuserMap[user.user_id] = user;\n\t}\n\trank.forEach(r => {\n\t\tr.users.forEach(user => {\n\t\t\tuser.userInfo = userMap[user.userId];\n\t\t});\n\t});\n\tstorage.rank = rank;\n\tawait setStorage(storageKey, storage);\n\treturn storage\n}\n\n\n/**\n * 随机发个沸点\n */\nexport const sendARandomPin = async () => {\n\tlet todayText = dayjs(new Date()).format(\"YYYYMMDD\");\n\n\tlet todayInfosResp = await fetch(\n\t\t`https://www.mxnzp.com/api/holiday/single/${todayText}?ignoreHoliday=false&app_id=nhhhdemgpmhixsnv&app_secret=Y296dDlVdVVhRnhucmJmUnhvRVY2UT09`,\n\t\t{\n\t\t\tcredentials: \"include\",\n\t\t\tmethod: \"GET\",\n\t\t\tcrossorigin: true,\n\t\t}\n\t);\n\n\tlet todayInfosBodyJson = await todayInfosResp.json();\n\tlet todayInfoRes = todayInfosBodyJson?.data || {};\n\tlet weekdayTranslateMap = { 1: \"周一\", 2: \"周二\", 3: \"周三\", 4: \"周四\", 5: \"周五\", 6: \"周六\", 7: \"周日\" };\n\tlet todayInfos = `今日为${weekdayTranslateMap[todayInfoRes.weekDay] + \" \" + todayInfoRes.typeDes}, 阴历: ${todayInfoRes.lunarCalendar}, \n  \t宜: ${todayInfoRes.suit}, 忌: ${todayInfoRes.avoid}`;\n\n\tconst getWellKnownWords = () => {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t///加个延时, 防止接口并发超了\n\t\t\tsetTimeout(() => {\n\t\t\t\tfetch(\n\t\t\t\t\t\"https://www.mxnzp.com/api/daily_word/recommend?count=1&app_id=nhhhdemgpmhixsnv&app_secret=Y296dDlVdVVhRnhucmJmUnhvRVY2UT09\",\n\t\t\t\t\t{\n\t\t\t\t\t\tcredentials: \"include\",\n\t\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\t\tcrossorigin: true,\n\t\t\t\t\t}\n\t\t\t\t).then((wellKnownWordResp) => {\n\t\t\t\t\twellKnownWordResp.json().then((wellKnownWordBodyJson) => {\n\t\t\t\t\t\tlet wellKnownWords = wellKnownWordBodyJson?.data?.[0].content || \"就不给你看~~\";\n\t\t\t\t\t\tresolve(wellKnownWords);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}, 3000);\n\t\t});\n\t};\n\n\tlet wellKnownWords = await getWellKnownWords();\n\tlet pinContent = wellKnownWords + \"\\n\\n\" + todayInfos;\n\n\t/// topic id默认指向 '摸鱼一下' 话题\n\tlet topicId = window.location.pathname.match(/\\d+/g)?.[0] || '6824710203301167112';\n\tlet res = await fetch(\n\t\t`https://api.juejin.cn/content_api/v1/short_msg/publish?aid=2608&uuid=${uuid()}&spider=0`,\n\t\t{\n\t\t\tcredentials: \"include\",\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\tbody: JSON.stringify({\n\t\t\t\tcontent: pinContent,\n\t\t\t\tsync_to_org: false,\n\t\t\t\ttopic_id: topicId,\n\t\t\t}),\n\t\t}\n\t).then((res) => res.json());\n\n//   let { success, data, err_msg } = handleApiResult(res);\n//   sendBasicNotifications(\"发个沸点：\" + (success ? \"成功\" : \"失败\"), \"^_^\");\n};","import { resetSelf } from \"./user\";\nimport { resetContextMenus } from \"./contextMenus\";\nimport { sendMessageToTab } from \"../chrome\";\n/*\n* 当标签页发生变化\n* */\n\nexport const tabOnUpdate = async (tabId, changeInfo, tab) => {\n\t// 是否完毕\n\tif (changeInfo.status !== \"complete\") return;\n\t// 是否是掘金的标签页\n\tlet isJueJin = tab.url.includes('juejin.cn');\n\tif (isJueJin) await resetSelf()\n\tawait resetContextMenus();\n\tif (isJueJin) sendMessageToTab(tabId, { event: \"page-change-complete\" })\n}","// 用户相关\nimport {\n\tcheckIn,\n\tcollectBug,\n\tdrawLottery,\n\tgetLotteryConfig,\n\tgetNotCollectBug, getSelfInfo,\n\tlogout as apiLogout,\n\tgetUserInfo as apiGetUserInfo, getDynamic,\n} from \"../../../api/user\";\nimport { getStorage, queryTabs, sendBasicNotifications, setStorage, updateTab } from \"../chrome\";\nimport { resetContextMenus } from \"./contextMenus\";\nimport { getNotReadMessageCount } from \"../../../api/message\";\nimport { dayjs } from \"../../../tool\";\n\n/*\n* 获取登录用户缓存\n* */\nexport const getSelfStorage = async () => {\n\treturn await getStorage('self-info')\n}\n\n/*\n* 设置登录用户缓存\n* */\nexport const setSelfStorage = async (storage) => {\n\tawait setStorage('self-info', storage)\n}\n\n/*重置用户信息*/\nexport const resetSelf = async () => {\n\tlet { success, data } = await getSelfInfo();\n\tif (!success) return setSelfStorage(null);\n\tawait setSelfStorage(data);\n\treturn data\n}\n\n/*\n* 获取用户信息\n* 缓存7天\n* */\nexport const getUserInfo = async (userId) => {\n\tlet storageKey = `user-info-${userId}`\n\tlet storage = await getStorage(storageKey);\n\tif (storage) return storage;\n\tlet { success, data } = await apiGetUserInfo(userId);\n\tif (!success) return null;\n\tawait setStorage(storageKey, data, 60 * 24 * 7);\n\treturn data;\n}\n\n/*\n* 获取年度用户动态列表\n* @param userId 用户id\n* @param isRefresh 是否获取最新，如果为否永远获取缓存\n* */\nexport const getYearDynamic = async ({ userId, isRefresh }) => {\n\tlet storageKey = `year-dynamic-${userId}`;\n\t// 获取缓存\n\tlet storage = await getStorage(storageKey);\n\tif (storage && !isRefresh) return storage;\n\tstorage = { count: 0, time: dayjs().format('YYYY-MM-DD HH:mm:ss'), info: {} };\n\t// 先获取总数\n\tlet { success, data } = await getDynamic(userId, 0);\n\tif (!success) return storage\n\t// count是动态总数\n\tlet { count, list } = data;\n\tstorage.count = count;\n\tlet dynamics = [...list];\n\t// 每份20个\n\tlet cursors = new Array(Math.ceil(count / 20)).fill(null).map((item, index) => 20 * index);\n\t// 第一个已经获取过，移除\n\tcursors.shift();\n\t// 开始并发请求\n\tlet dynamicsRes = await Promise.all(cursors.map(cursor => getDynamic(userId, cursor)));\n\tdynamicsRes.forEach(dynamicRes => {\n\t\tif (dynamicRes.success) {\n\t\t\tdynamics.push(...dynamicRes.data.list);\n\t\t}\n\t})\n\t// 开始处理数据\n\tfor (let dynamic of dynamics) {\n\t\tlet year = dayjs(dynamic.time * 1000).format('YYYY')\n\t\tlet date = dayjs(dynamic.time * 1000).format('MM-DD');\n\t\tif (storage.info[year]) {\n\t\t\tif (storage.info[year][date]) {\n\t\t\t\tstorage.info[year][date].push(dynamic.action)\n\t\t\t} else {\n\t\t\t\tstorage.info[year][date] = [dynamic.action]\n\t\t\t}\n\t\t} else {\n\t\t\tstorage.info[year] = { [date]: [dynamic.action] }\n\t\t}\n\t}\n\tawait setStorage(storageKey, storage);\n\treturn storage;\n}\n\n/*\n* 开始循环获取未读消息数\n* */\nexport const loopNotReadMessageCount = () => {\n\tsetInterval(async () => {\n\t\tif (await getSelfStorage()) {\n\t\t\tlet { success, data } = await getNotReadMessageCount();\n\t\t\tif (!success) return;\n\t\t\t// count[1]：点赞和收藏  count[3]：评论\n\t\t\tlet { count, total } = data;\n\t\t\tlet items = [];\n\t\t\tif (count[1]) items.push(`点赞和收藏：${count[1]}条`);\n\t\t\tif (count[3]) items.push(`评论：${count[3]}条`);\n\t\t\tlet notReadStrStorage = await getStorage(\"message-not-read\");\n\t\t\t// 有未读且详情文字不相同\n\t\t\tif (total && notReadStrStorage !== JSON.stringify(items)) {\n\t\t\t\tsendBasicNotifications(`您有${total}条掘金未读消息，以下为详细内容`, `${items.join('\\n')}`);\n\t\t\t}\n\t\t\tawait setStorage(\"message-not-read\", JSON.stringify(items));\n\t\t}\n\t}, 1000 * 10)\n}\n\n/*\n* 用户登出\n* 登出后刷新所有相关页面\n* */\nexport const logout = async () => {\n\tapiLogout();\n\t// 获取所有掘金相关页面\n\tlet tabs = await queryTabs({ url: 'https://juejin.cn/*' });\n\t// 将登录用户缓存清空\n\tawait setSelfStorage(null);\n\t// 重置菜单\n\tawait resetContextMenus();\n\t// 刷新页面\n\tfor (let tab of tabs) {\n\t\tupdateTab(tab.id, { url: tab.url });\n\t}\n}\n\n/*\n* 用户签到\n* */\nexport const signin = async () => {\n\tlet { success, data, err_msg } = await checkIn();\n\tsendBasicNotifications(\"掘金签到：\" + (success ? \"成功\" : \"失败\"), success ? `本次新增矿石：${data.incr_point}，当前矿石：${data.sum_point}` : err_msg)\n}\n\n/*\n* 修复bug\n* */\nexport const bugfix = async () => {\n\t// 获取未修复bug\n\tlet { success, data, err_msg } = await getNotCollectBug();\n\tsendBasicNotifications(\"掘金BugFix：\" + (success ? \"成功\" : \"失败\"), success ? `今日掘金bugfix：${data.length}` : err_msg)\n\tif (!success) return;\n\t// 开始修复bug\n\tdata.forEach(bug => collectBug(bug))\n}\n\n/*\n* 抽奖\n* */\nexport const freeLucky = async () => {\n\t// 获取今日免费抽奖次数\n\tlet res = await getLotteryConfig()\n\tif (!res.success) return sendBasicNotifications('今日免费抽奖失败', res.err_msg);\n\tif (!res.data.free_count) return sendBasicNotifications('今日免费抽奖失败', '今日免费抽奖次数已经用完');\n\t// 开始抽奖\n\tres = await drawLottery()\n\tif (!res.success) return sendBasicNotifications('今日免费抽奖失败', res.err_msg);\n\tsendBasicNotifications('今日免费抽奖成功', `恭喜抽到：${res.data.lottery_name}`);\n}","import Dayjs from 'dayjs';\nimport weekday from \"dayjs/plugin/weekday\";\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport \"dayjs/locale/zh-cn\";\n\nDayjs.extend(weekday);\nDayjs.extend(relativeTime);\nDayjs.locale('zh-cn')\n\nexport const dayjs = Dayjs;\n\n/*\n* 获取uuid\n* */\nexport const uuid = () => {\n\tvar s = [];\n\tvar hexDigits = \"0123456789abcdef\";\n\tfor (var i = 0; i < 36; i++) {\n\t\ts[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n\t}\n\ts[14] = \"4\"; // bits 12-15 of the time_hi_and_version field to 0010\n\ts[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\n\ts[8] = s[13] = s[18] = s[23] = \"-\";\n\n\tvar uuid = s.join(\"\");\n\treturn uuid;\n}\n\n/*\n* 睡眠函数\n* */\nexport const sleep = (x) => {\n\treturn new Promise(res => {\n\t\tsetTimeout(() => {\n\t\t\tres();\n\t\t}, x * 1000)\n\t})\n}\n\n/*\n* 获取掘金动态分数计算\n* 0：发布文章\n* 1：点赞文章\n* 2：发布沸点\n* 3：点赞沸点\n* 4、关注用户\n* 5、关注标签\n* */\nexport const getDynamicScoreByActions = (actions) => {\n\tif (!actions.length) return 0\n\tlet score = 0;\n\tactions.forEach(action => {\n\t\tif (action === 0) score += 70;\n\t\tif (action === 1) score += 20;\n\t\tif (action === 2) score += 10;\n\t\tif (action === 3) score += 5;\n\t\tif (action === 4) score += 10;\n\t})\n\t// 活跃度等级\n\t// Lv0 —— 活跃度 0\n\t// Lv1 —— 活跃度 [1, 20)\n\t// Lv2 —— 活跃度 [20, 60)\n\t// Lv3 —— 活跃度 [60, 80)\n\t// Lv4 —— 活跃度 [80, 100)\n\treturn Math.min(score, 100);\n}\n\nexport const getDynamicActionsCount = actions => {\n\tif (!actions.length) return {};\n\tlet count = {};\n\tactions.forEach(action => {\n\t\tcount[action] ? count[action]++ : count[action] = 1;\n\t})\n\treturn count;\n}\n\n\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=function(t){return t instanceof _},S=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=v;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),l=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?l(1,0):l(31,11);case f:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,l=this;r=Number(r);var $=O.p(h),y=function(t){var e=w(l);return O.w(e.date(e.date()+Math.round(t*r)),l)};if($===f)return this.set(f,this.$M+r);if($===c)return this.set(c,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||$[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,v=this-M,g=O.m(this,M);return g=($={},$[c]=g/12,$[f]=g,$[h]=g/3,$[o]=(v-m)/6048e5,$[a]=(v-m)/864e5,$[u]=v/n,$[s]=v/e,$[i]=v/t,$)[y]||v,l?g:O.a(g)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),T=_.prototype;return w.prototype=T,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=D[g],w.Ls=D,w.p={},w}));","!function(e,_){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=_(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],_):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_locale_zh_cn=_(e.dayjs)}(this,(function(e){\"use strict\";function _(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var t=_(e),d={name:\"zh-cn\",weekdays:\"星期日_星期一_星期二_星期三_星期四_星期五_星期六\".split(\"_\"),weekdaysShort:\"周日_周一_周二_周三_周四_周五_周六\".split(\"_\"),weekdaysMin:\"日_一_二_三_四_五_六\".split(\"_\"),months:\"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月\".split(\"_\"),monthsShort:\"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月\".split(\"_\"),ordinal:function(e,_){return\"W\"===_?e+\"周\":e+\"日\"},weekStart:1,yearStart:4,formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"YYYY/MM/DD\",LL:\"YYYY年M月D日\",LLL:\"YYYY年M月D日Ah点mm分\",LLLL:\"YYYY年M月D日ddddAh点mm分\",l:\"YYYY/M/D\",ll:\"YYYY年M月D日\",lll:\"YYYY年M月D日 HH:mm\",llll:\"YYYY年M月D日dddd HH:mm\"},relativeTime:{future:\"%s内\",past:\"%s前\",s:\"几秒\",m:\"1 分钟\",mm:\"%d 分钟\",h:\"1 小时\",hh:\"%d 小时\",d:\"1 天\",dd:\"%d 天\",M:\"1 个月\",MM:\"%d 个月\",y:\"1 年\",yy:\"%d 年\"},meridiem:function(e,_){var t=100*e+_;return t<600?\"凌晨\":t<900?\"早上\":t<1100?\"上午\":t<1300?\"中午\":t<1800?\"下午\":\"晚上\"}};return t.default.locale(d,null,!0),d}));","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_weekday=t()}(this,(function(){\"use strict\";return function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,i=this.$W,n=(i<t?i+7:i)-t;return this.$utils().u(e)?n:this.subtract(n,\"day\").add(e,\"day\")}}}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { resetSelf, loopNotReadMessageCount } from \"./controller/user\";\nimport { contextMenusOnClick, resetContextMenus } from \"./controller/contextMenus\";\nimport { tabOnUpdate } from \"./controller/tabs\";\nimport { runtimeOnMessage } from \"./controller/message\";\n\n// chrome.storage.local.clear();\nchrome.contextMenus.onClicked.addListener(contextMenusOnClick);\nchrome.tabs.onUpdated.addListener(tabOnUpdate);\nchrome.runtime.onMessage.addListener(runtimeOnMessage)\n\nconst init = async () => {\n\t// 重新获取用户信息\n\tawait resetSelf()\n\t// 重置按钮组\n\tawait resetContextMenus();\n\t// 开始循环获取未读消息数量\n\tloopNotReadMessageCount();\n};\n\ninit();\n"],"names":["ajax","removeShortMsg","msgId","url","method","data","msg_id","isInclude","getShortMsgList","userId","cursor","sortType","limit","user_id","toString","sort_type","headers","credentials","res","fetch","body","JSON","stringify","then","json","handleApiResult","apiRes","Object","assign","success","err_no","diggQueryPage","item_type","cancelDigg","itemId","itemType","item_id","getNotReadMessageCount","getTopicShortMsgList","topic_id","id_type","queryTopicDetail","topicId","logout","getSelfInfo","pack_req","user_counter","user_growth_info","user","getUserInfo","checkIn","getNotCollectBug","collectBug","bug","getLotteryConfig","drawLottery","getDynamic","iconUrl","dayjs","config","uuid","setStorage","key","value","minute","setTime","format","overdueTime","undefined","add","storage","chrome","local","set","getStorage","get","isBefore","sendBasicNotifications","title","message","notifications","getPermissionLevel","level","create","type","createTab","tab","tabs","queryTabs","search","query","updateTab","tabId","update","sendMessageToTab","info","sendMessage","from","createContextMenu","menu","console","log","contextMenus","removeAllContextMenus","removeAll","getSelfStorage","signin","bugfix","freeLucky","resetContextMenusIng","resetContextMenus","id","user_basic","user_name","contexts","parentId","contextMenusOnClick","menuItemId","windowId","selected","getYearDynamic","getPinClubInfo","getUserPins","removePin","getPinClubWeekUserRank","getUserZanPins","cancelZanPin","eventHandleMap","get-self-info","handleOnMessage","event","callback","runtimeOnMessage","request","sender","sendResponse","to","count","pin","pins","clubId","storageKey","isRefresh","time","rank","userMap","targetTime","startOf","valueOf","msg","msg_Info","ctime","push","users","msgs","sort","a","b","length","userIds","msgCount","userList","Promise","all","map","forEach","r","userInfo","sendARandomPin","todayText","Date","todayInfosResp","crossorigin","todayInfosBodyJson","todayInfoRes","weekdayTranslateMap","todayInfos","weekDay","typeDes","lunarCalendar","suit","avoid","getWellKnownWords","resolve","reject","setTimeout","wellKnownWordResp","wellKnownWordBodyJson","wellKnownWords","content","pinContent","window","location","pathname","match","sync_to_org","resetSelf","tabOnUpdate","changeInfo","status","isJueJin","includes","apiLogout","apiGetUserInfo","setSelfStorage","list","dynamics","cursors","Array","Math","ceil","fill","item","index","shift","dynamicsRes","dynamicRes","dynamic","year","date","action","loopNotReadMessageCount","setInterval","total","items","notReadStrStorage","join","err_msg","incr_point","sum_point","free_count","lottery_name","Dayjs","weekday","relativeTime","extend","locale","s","hexDigits","i","substr","floor","random","sleep","x","getDynamicScoreByActions","actions","score","min","getDynamicActionsCount","onClicked","addListener","onUpdated","runtime","onMessage","init"],"sourceRoot":""}